(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3;$.Define($$,{WebSharper:{Formlets:{Body:$.Class({},{New:function(_4,_5){return $.New(b,{Element:_4,Label:_5});}}),Controls:{Button:function(_6){return c.ElementButton(function(){var _8;_8=d.ofArray([g.Tags().text(_6)]);return g.Tags().NewTag("button",_8);});},Checkbox:function(_9){return c.CheckboxControl(false,_9);},CheckboxControl:function(_,ba){return h.MkFormlet(function(){var bc,bd,be,bf,bg,bj,bk;bc=k.New($.New(n,{$:0,$0:ba}));bd=_?d.ofArray([o.Attr().NewAttr("disabled","disabled")]):$.New(p,{$:0});bf=d.ofArray([o.Attr().NewAttr("type","checkbox"),o.Attr().NewAttr("class","inputCheckbox")]);be=q.add(g.Tags().NewTag("input",bf),bd);bg=function(bh){return function(){return!_?bc.Trigger($.New(n,{$:0,$0:r(bh.get_Body()).prop("checked")})):null;};};s.Events().OnClick(bg,be);bj=be;if(ba){bj["HtmlProvider@33"].SetAttribute(bj.get_Body(),"defaultChecked","true");}else{bj["HtmlProvider@33"].RemoveAttribute(bj.get_Body(),"checked");}bk=function(){if(ba){bj["HtmlProvider@33"].SetProperty(bj.get_Body(),"checked",true);}else{bj["HtmlProvider@33"].RemoveAttribute(bj.get_Body(),"checked");bj["HtmlProvider@33"].SetProperty(bj.get_Body(),"checked",false);}return bc.Trigger($.New(n,{$:0,$0:ba}));};bk(null);return[bj,bk,bc];});},CheckboxGroup:function(bl){return c.CheckboxGroupControl(false,bl);},CheckboxGroupControl:function(bm,bn){var bo;bo=function(bp){var bq;bq=bp[1];return bp[0]?{$:1,$0:bq}:{$:0};};return t.Map(function(br){return d.choose(bo,br);},t.Sequence(d.map(function(bs){var bt,bu,bv;bt=bs[0];bu=bs[1];bv=c.CheckboxControl(bm,bs[2]);return t.Map(function(bw){return[bw,bu];},t.WithLabel({$:1,$0:function(){var by;by=d.ofArray([g.Tags().text(bt)]);return g.Tags().NewTag("label",by);}},bv));},bn)));},ElementButton:function(bz){return h.MkFormlet(function(){var bB,bC,bD,bE;bB=k.New($.New(n,{$:1,$0:$.New(p,{$:0})}));bC=[0];bD=bz(null);bE=function(){return function(){bB.Trigger($.New(n,{$:0,$0:bC[0]}));return u.incr(bC);};};s.Events().OnClick(bE,bD);return[bD,function(){bC[0]=0;return bB.Trigger($.New(n,{$:1,$0:$.New(p,{$:0})}));},bB];});},Input:function(bI){return c.InputField(false,"text",v.InputTextClass(),bI);},InputControl:function(bJ,bK){return h.MkFormlet(function(){var bM,bN;bM=k.New($.New(n,{$:0,$0:bJ}));bN=bK(bM);bN.set_Value(bJ);return[bN,function(){bN.set_Value(bJ);return bM.Trigger($.New(n,{$:0,$0:bJ}));},bM];});},InputField:function(bP,bQ,bR,bS){return c.InputControl(bS,function(bT){var bU,bV,bW;bU=bP?d.ofArray([o.Attr().NewAttr("readonly","readonly")]):$.New(p,{$:0});bV=d.append(d.ofArray([o.Attr().NewAttr("type",bQ),o.Attr().NewAttr("class",bR)]),bU);bW=g.Tags().NewTag("input",bV);c.OnTextChange(function(){return!bP?bT.Trigger($.New(n,{$:0,$0:bW.get_Value()})):null;},bW);return bW;});},OnTextChange:function(bY,bZ){var b0,b1,b3,b6;b0=[bZ.get_Value()];b1=function(){if(bZ.get_Value()!==b0[0]){b0[0]=bZ.get_Value();return bY(null);}else{return null;}};b3=function(){return function(){return b1(null);};};s.Events().OnChange(b3,bZ);b6=function(){return function(){return b1(null);};};s.Events().OnKeyUp(b6,bZ);bZ.Dom.oninput=b1;return;},Password:function(b9){return c.InputField(false,"password","inputPassword",b9);},RadioButtonGroup:function(b_,b$){return c.RadioButtonGroupControl(false,b_,b$);},RadioButtonGroupControl:function(ca,cb,cc){return t.New(function(){var ce,cf,cl,cm,co,ct,cx;ce="id"+w.round(w.random()*100000000);cf=cb.$==0?{$:0}:x.tryPick(function(cg){var ch,ci;ch=cg[0];ci=cg[1];return cb.$==0?{$:0}:cb.$0===ch?{$:1,$0:$.New(n,{$:0,$0:ci})}:{$:0};},d.mapi(function(cj){return function(ck){return[cj,ck[1]];};},cc));cl=k.New($.New(n,{$:1,$0:$.New(p,{$:0})}));cm=y.Maybe(cl,function(cn){return k.New(cn);},cf);co=d.map(function(cp){var cq,cr,cs;cq=cp[0];cr=cp[1];cs=d.ofArray([o.Attr().NewAttr("class","inputRadio"),o.Attr().NewAttr("type","radio"),o.Attr().NewAttr("name",ce)]);return[q.add(g.Tags().NewTag("input",cs),ca?d.ofArray([o.Attr().NewAttr("disabled","disabled")]):$.New(p,{$:0})),cq,cr];},cc);ct=function(cu,cv,cw){if(cb.$==0){cu["HtmlProvider@33"].RemoveAttribute(cu.get_Body(),"checked");return cm.Trigger($.New(n,{$:1,$0:$.New(p,{$:0})}));}else{if(cb.$0===cw){cu["HtmlProvider@33"].SetProperty(cu.get_Body(),"checked",true);return cm.Trigger($.New(n,{$:0,$0:cv}));}else{return cu["HtmlProvider@33"].SetProperty(cu.get_Body(),"checked",false);}}};cx=$.New(A,{$:0,$0:z.FromSequence(d.mapi(function(cy){return function(cz){var cA,cB,cC,cD;cA=cz[0];cB=cz[1];cC=cz[2];ct(cA,cC,cy);cD=function(){return function(){return!ca?cm.Trigger($.New(n,{$:0,$0:cC})):null;};};s.Events().OnClick(cD,cA);return $.New(b,{Element:cA,Label:{$:1,$0:function(){var cH;cH=d.ofArray([g.Tags().text(cB)]);return g.Tags().NewTag("label",cH);}}});};},co))});return $.New(B,{Body:h.RX().Return(cx),Dispose1:function(){},Notify:function(){return x.iteri(function(cK){return function(cL){return ct(cL[0],cL[2],cK);};},co);},State:cm});});},ReadOnlyCheckbox:function(cM){return c.CheckboxControl(true,cM);},ReadOnlyInput:function(cN){return c.InputField(true,"text",v.InputTextClass(),cN);},ReadOnlyRadioButtonGroup:function(cO,cP){return c.RadioButtonGroupControl(true,cO,cP);},ReadOnlySelect:function(cQ,cR){return c.SelectControl(true,cQ,cR);},ReadOnlyTextArea:function(cS){return c.TextAreaControl(true,cS);},Select:function(cT,cU){return c.SelectControl(false,cT,cU);},SelectControl:function(cV,cW,cX){return h.MkFormlet(function(){var cZ,c1,c2,c3,c7,c8,c9,c_,c$,dc;cZ=d.map(function(c0){return c0[1];},cX);c1=C.ofSeq(cZ);c2=(cW>=0?cW<cX.get_Length():false)?cW:0;c3=d.mapi(function(c4){return function(c5){var c6;c6=c5[0];return g.Tags().NewTag("option",d.ofArray([g.Tags().text(c6),o.Attr().NewAttr("value",$$.String(c4))]));};},cX);c7=g.Tags().NewTag("select",c3);c8=cV?q.add(c7,d.ofArray([o.Attr().NewAttr("disabled","disabled")])):c7;c9=$.New(n,{$:0,$0:C.get(c1,c2)});c_=k.New(c9);c$=function(){var db;db=$$.String(c2);c8["HtmlProvider@33"].SetProperty(c8.get_Body(),"value",db);return c_.Trigger(c9);};c$(null);dc=function(){return function(){return!cV?c_.Trigger($.New(n,{$:0,$0:C.get(c1,c8.get_Value()<<0)})):null;};};s.Events().OnChange(dc,c8);c$(null);return[c8,c$,c_];});},TextArea:function(df){return c.TextAreaControl(false,df);},TextAreaControl:function(dg,dh){return c.InputControl(dh,function(di){var dj,dk;dj=dg?d.ofArray([o.Attr().NewAttr("readonly","readonly")]):$.New(p,{$:0});dk=g.Tags().NewTag("textarea",dj);c.OnTextChange(function(){return!dg?di.Trigger($.New(n,{$:0,$0:dk.get_Value()})):null;},dk);return dk;});}},CssConstants:{InputTextClass:$.Field(function(){return"inputText";})},Data:{$:function(dm,dn){return h.OfIFormlet(h.BaseFormlet().Apply(dm,dn));},BaseFormlet:function(){return D.New(h.UtilsProvider());},DefaultLayout:$.Field(function(){return h.Layout().get_Vertical();}),Formlet:$.Class({Build:function(){return this.buildInternal.call(null,null);},MapResult:function(_do){var dr=this;return E.New(function(){var dq;dq=dr.buildInternal.call(null,null);return $.New(B,{Body:dq.Body,Dispose1:dq.Dispose1,Notify:dq.Notify,State:dr.utils.Reactive.Select(dq.State,function(ds){return _do(ds);})});},dr.layoutInternal,dr.formletBase,dr.utils);},Render:function(){return this.Run(function(){}).Render();},Run:function(du){var dv,dw,dx,dz,dA;dv=this.get_ElementInternal();if(dv.$==0){dw=this.formletBase.ApplyLayout(this);dx=dw.Build();G.subscribeTo(dx.State,function(dy){n.Map(du,dy);});dz=dw.get_Layout().Apply.call(null,dx.Body);dA=dz.$==0?h.DefaultLayout().Apply.call(null,dx.Body).$0[0].Element:dz.$0[0].Element;this.set_ElementInternal({$:1,$0:dA});return dA;}else{return dv.$0;}},get_Body:function(){return this.Run(function(){}).get_Body();},get_ElementInternal:function(){return this["ElementInternal@"];},get_Layout:function(){return this.layoutInternal;},set_ElementInternal:function(dC){this["ElementInternal@"]=dC;return;}},{New:function(dD,dE,dF,dG){var dH;dH=$.New(this,F.New());dH.buildInternal=dD;dH.layoutInternal=dE;dH.formletBase=dF;dH.utils=dG;dH["ElementInternal@"]={$:0};return dH;}}),Layout:$.Field(function(){return H.New(I.New({Reactive:J.Default()}));}),MkFormlet:function(dI){var dJ;dJ=function(){var dL,dM,dN,dO,dQ;dL=dI(null);dM=dL[2];dN=dL[1];dO=function(){return dN(null);};dQ=z.Set(h.NewBody(dL[0],{$:0}));return $.New(B,{Body:h.RX().Return(dQ),Dispose1:function(){return null;},Notify:dO,State:dM});};return h.OfIFormlet(h.BaseFormlet().New(dJ));},NewBody:function(dS,dT){return b.New(dS,dT);},OfIFormlet:function(dU){return h.PropagateRenderFrom(dU,E.New(function(){return dU.Build();},dU.get_Layout(),h.BaseFormlet(),h.UtilsProvider()));},PropagateRenderFrom:function(dW,dX){if(dW.hasOwnProperty("Render")){dX.Render=dW.Render;}return dX;},RX:$.Field(function(){return J.Default();}),UtilsProvider:function(){return{Reactive:h.RX(),DefaultLayout:h.DefaultLayout()};},Validator:$.Field(function(){return K.New(L.New());}),ValidatorProvidor:$.Class({Matches:function(dY,dZ){return dZ.match(new M(dY));}},{New:function(){return $.New(this,{});}})},ElementStore:$.Class({Init:function(){this.store=O.New12();return;},RegisterElement:function(d0,d1){return!this.store.ContainsKey(d0)?this.store.set_Item(d0,d1):null;},Remove:function(d2){if(this.store.ContainsKey(d2)){(this.store.get_Item(d2))(null);this.store.Remove(d2);return;}else{return null;}}},{New:function(){return $.New(this,{});},NewElementStore:function(){var d3;d3=P.New();d3.Init();return d3;}}),Enhance:{Cancel:function(d4,d5){return t.Replace(d4,function(d6){return d5(d6)?t.Empty():t.Return(d6);});},CustomMany:function(d7,d8){var d9,ec,ed,ef,ek,el,em,en,eo,ep,eq,es;d9=c.ElementButton(function(){var d$,ea,eb;ea=d7.AddIconClass;d$=d.ofArray([o.Attr().NewAttr("class",ea)]);eb=$.New(p,{$:0});return q.add(g.Tags().NewTag("div",d$),d.ofArray([g.Tags().NewTag("div",eb)]));});ec=t.InitWith(1,d9);ed=function(){};ef=c.ElementButton(function(){var eh,ei,ej;ei=d7.RemoveIconClass;eh=d.ofArray([o.Attr().NewAttr("class",ei)]);ej=$.New(p,{$:0});return q.add(g.Tags().NewTag("div",eh),d.ofArray([g.Tags().NewTag("div",ej)]));});ek=t.Map(ed,ef);el=t.WithCancelation(d8,ek);em=t.WithLayout(h.Layout().get_Horizontal(),el);en=Q.Deletable(em);eo=k.New($.New(n,{$:0,$0:null}));ep=h.OfIFormlet(h.BaseFormlet().FromState(eo));eq=function(){return eo.Trigger($.New(n,{$:0,$0:null}));};es=t.Do();return t.WithNotification(eq,es.Delay(function(){return es.Bind(ep,function(){return es.ReturnFrom(t.ApplyLayout(t.WithLayoutOrDefault(t.Map(function(ev){return d.ofSeq(ev);},Q.Many_(ec,function(){return en;})))));});}));},Deletable:function(ex){return Q.Replace(ex,function(ey){return ey.$==1?t.Return({$:1,$0:ey.$0}):t.ReturnEmpty({$:0});});},FormButtonConfiguration:$.Class({},{get_Default:function(){return $.New(R,{Label:{$:0},Style:{$:0},Class:{$:0}});}}),FormContainerConfiguration:$.Class({},{get_Default:function(){var ez;ez={$:0};return $.New(S,{Header:{$:0},Padding:T.get_Default(),Description:ez,BackgroundColor:{$:0},BorderColor:{$:0},CssClass:{$:0},Style:{$:0}});}}),InputButton:function(eA,eB){return h.MkFormlet(function(){var eD,eE,eF,eH,eI,eJ,eM,eN,eO,eP,eQ,eR,eS;eD=k.New($.New(n,{$:1,$0:$.New(p,{$:0})}));eE=[0];eF=y.Maybe("Submit",function(eG){return eG;},eA.Label);eI=d.ofArray([o.Attr().NewAttr("type","button")]);eH=q.add(g.Tags().NewTag("input",eI),d.ofArray([o.Attr().NewAttr("class","submitButton"),o.Attr().NewAttr("value",eF)]));eJ=function(){return function(){u.incr(eE);return eD.Trigger($.New(n,{$:0,$0:eE[0]}));};};s.Events().OnClick(eJ,eH);eM=eH;if(!eB){eM["HtmlProvider@33"].AddClass(eM.get_Body(),"disabledButton");}eO=eA.Style;if(eO.$==1){eP=eO.$0;eM["HtmlProvider@33"].SetStyle(eM.get_Body(),eP);}eQ=eA.Class;if(eQ.$==1){eR=eQ.$0;eM["HtmlProvider@33"].AddClass(eM.get_Body(),eR);}eN=eM;eS=function(){eE[0]=0;return eD.Trigger($.New(n,{$:1,$0:$.New(p,{$:0})}));};eD.Trigger($.New(n,{$:1,$0:$.New(p,{$:0})}));return[eN,eS,eD];});},Many:function(eU){return Q.CustomMany(U.get_Default(),eU);},ManyConfiguration:$.Class({},{get_Default:function(){return $.New(U,{AddIconClass:"addIcon",RemoveIconClass:"removeIcon"});}}),Many_:function(eV,eW){var eX;eX=function(eY){return eY;};return t.Map(function(eZ){return x.choose(eX,eZ);},t.FlipBody(t.SelectMany(t.Map(function(e0){return eW(e0);},eV))));},Padding:$.Class({},{get_Default:function(){return $.New(T,{Left:{$:0},Right:{$:0},Top:{$:0},Bottom:{$:0}});}}),Replace:function(e1,e2){return t.Switch(t.MapResult(function(e3){return e3.$==1?$.New(n,{$:0,$0:t.FailWith(e3.$0)}):$.New(n,{$:0,$0:e2(e3.$0)});},e1));},ValidationFrameConfiguration:$.Class({},{get_Default:function(){return $.New(V,{ValidClass:{$:1,$0:"successFormlet"},ValidStyle:{$:0},ErrorClass:{$:1,$0:"errorFormlet"},ErrorStyle:{$:0}});}}),ValidationIconConfiguration:$.Class({},{get_Default:function(){return $.New(W,{ValidIconClass:"validIcon",ErrorIconClass:"errorIcon"});}}),WithCssClass:function(e4,e5){return t.MapElement(function(e6){e6["HtmlProvider@33"].AddClass(e6.get_Body(),e4);return e6;},e5);},WithCustomFormContainer:function(e7,e8){var e9;e9=t.ApplyLayout(e8);return t.MapElement(function(e_){var e$,fa,fb,ff,fg,fh,fi,fo,fp,fB,fC,fD,fE,fF,fG,fH;e$=e7.Description;fa=$.New(p,{$:0});fb=y.Maybe(fa,function(fc){var fd,fe;if(fc.$==1){return d.ofArray([fc.$0.call(null,null)]);}else{fd=fc.$0;fe=d.ofArray([g.Tags().text(fd)]);return d.ofArray([g.Tags().NewTag("p",fe)]);}},e$);ff=e7.Header;fh=d.ofArray([o.Attr().NewAttr("class","headerPanel")]);fg=y.InTable(d.ofArray([d.ofArray([q.add(g.Tags().NewTag("div",fh),fb)]),d.ofArray([e_])]));fi=y.Maybe(fg,function(fj){var fk,fl,fm,fn;if(fj.$==1){fk=fj.$0.call(null,null);}else{fl=fj.$0;fm=d.ofArray([g.Tags().text(fl)]);fk=g.Tags().NewTag("h1",fm);}fn=d.ofArray([o.Attr().NewAttr("class","headerPanel")]);return y.InTable(d.ofArray([d.ofArray([q.add(g.Tags().NewTag("div",fn),$.New(p,{$:1,$0:fk,$1:fb}))]),d.ofArray([e_])]));},ff);fp=d.ofArray([o.Attr().NewAttr("class","formlet")]);fo=q.add(g.Tags().NewTag("td",fp),d.ofArray([fi]));y.Maybe(null,function(fq){var fr;fr="border-color: "+fq;return fo["HtmlProvider@33"].SetStyle(fo.get_Body(),fr);},e7.BorderColor);x.iter(function(fs){var ft,fu,fv;ft=fs[0];fu=fs[1];if(fu.$==0){return null;}else{fv=fu.$0;return fo["HtmlProvider@33"].SetCss(fo.get_Body(),ft,fv);}},d.ofArray([["background-color",y.MapOption(function(fw){return fw;},e7.BackgroundColor)],["padding-left",y.MapOption(function(fx){return $$.String(fx)+"px";},e7.Padding.Left)],["padding-right",y.MapOption(function(fy){return $$.String(fy)+"px";},e7.Padding.Right)],["padding-top",y.MapOption(function(fz){return $$.String(fz)+"px";},e7.Padding.Top)],["padding-bottom",y.MapOption(function(fA){return $$.String(fA)+"px";},e7.Padding.Bottom)]]));fB=e7.Style;if(fB.$==0){}else{fC=fB.$0;fo["HtmlProvider@33"].SetStyle(fo.get_Body(),fC);}fD=e7.CssClass;if(fD.$==0){}else{fE=fD.$0;fo["HtmlProvider@33"].AddClass(fo.get_Body(),fE);}fH=d.ofArray([fo]);fG=d.ofArray([g.Tags().NewTag("tr",fH)]);fF=d.ofArray([g.Tags().NewTag("tbody",fG)]);return g.Tags().NewTag("table",fF);},e9);},WithCustomResetButton:function(fI,fJ){return Q.WithResetFormlet(fJ,Q.InputButton(fI.Label.$==0?$.New(R,{Label:{$:1,$0:"Reset"},Style:fI.Style,Class:fI.Class}):fI,true));},WithCustomSubmitAndResetButtons:function(fK,fL,fM){return Q.WithSubmitAndReset(fM,function(fN){return function(fO){var fP,fQ,fS,fU,fV,fY;if(fO.$==1){fQ=fO.$0;fP=t.MapResult(function(){return $.New(n,{$:1,$0:fQ});},Q.InputButton(fK,false));}else{fS=fO.$0;fP=t.Map(function(){return fS;},Q.InputButton(fK,true));}fU=t.Do();fV=fU.Delay(function(){return fU.Bind(t.LiftResult(Q.InputButton(fL,true)),function(fX){if(fX.$==0){fN(null);}return fU.Return(null);});});fY=h.$(h.$(t.Return(function(fZ){return function(){return fZ;};}),fP),fV);return t.WithLayout(h.Layout().get_Horizontal(),fY);};});},WithCustomSubmitButton:function(f1,f2){var f3;f3=f1.Label.$==0?$.New(R,{Label:{$:1,$0:"Submit"},Style:f1.Style,Class:f1.Class}):f1;return Q.WithSubmitFormlet(f2,function(f4){return t.Map(function(){},Q.InputButton(f3,f4.$==0?true:false));});},WithCustomValidationFrame:function(f6,f7){return Q.WrapFormlet(function(f8){return function(f9){var f_,f$;f_=d.ofArray([f9.Element]);f$=g.Tags().NewTag("div",f_);q.OnAfterRender(function(ga){G.subscribeTo(f8,function(gb){var gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go;if(gb.$==1){gc=gb.$0;gd=f6.ValidClass;if(gd.$==1){ge=gd.$0;ga["HtmlProvider@33"].RemoveClass(ga.get_Body(),ge);}gf=f6.ErrorClass;if(gf.$==1){gg=gf.$0;ga["HtmlProvider@33"].AddClass(ga.get_Body(),gg);}gh=f6.ErrorStyle;if(gh.$==1){gi=gh.$0;return ga["HtmlProvider@33"].SetStyle(ga.get_Body(),gi);}else{return ga["HtmlProvider@33"].SetStyle(ga.get_Body(),"");}}else{gj=f6.ErrorClass;if(gj.$==1){gk=gj.$0;ga["HtmlProvider@33"].RemoveClass(ga.get_Body(),gk);}gl=f6.ValidClass;if(gl.$==1){gm=gl.$0;ga["HtmlProvider@33"].AddClass(ga.get_Body(),gm);}gn=f6.ValidStyle;if(gn.$==1){go=gn.$0;return ga["HtmlProvider@33"].SetStyle(ga.get_Body(),go);}else{return ga["HtmlProvider@33"].SetStyle(ga.get_Body(),"");}}});},f$);return f$;};},f7);},WithCustomValidationIcon:function(gp,gq){var gr,gs,gt;gr=t.WithLayoutOrDefault(gq);gs=t.Do();gt=t.MapResult(function(gu){return n.Join(gu);},gs.Delay(function(){return gs.Bind(t.LiftResult(gr),function(gw){return gs.Bind(t.OfElement(function(){var gy,gB,gC,gD,gE,gF,gG;if(gw.$==1){gy=x.fold(function(gz){return function(gA){return gz+" "+gA;};},"",gw.$0);gC=gp.ErrorIconClass;gB=d.ofArray([o.Attr().NewAttr("class",gC),o.Attr().NewAttr("title",gy)]);gD=$.New(p,{$:0});return q.add(g.Tags().NewTag("div",gB),d.ofArray([g.Tags().NewTag("div",gD)]));}else{gF=gp.ValidIconClass;gE=d.ofArray([o.Attr().NewAttr("class",gF),o.Attr().NewAttr("title","")]);gG=$.New(p,{$:0});return q.add(g.Tags().NewTag("div",gE),d.ofArray([g.Tags().NewTag("div",gG)]));}}),function(){return gs.Return(gw);});});}));return t.WithLayout(h.Layout().get_Horizontal(),gt);},WithErrorFormlet:function(gI,gJ){var gK;gK=t.Do();return t.MapResult(function(gL){return n.Join(gL);},gK.Delay(function(){return gK.Bind(t.LiftResult(gJ),function(gN){var gO,gP,gQ;if(gN.$==1){gP=gN.$0;gQ=t.Do();gO=gQ.Delay(function(){return gQ.Bind(gI(gP),function(){return gQ.Return(gN);});});}else{gO=t.Return(gN);}return gK.ReturnFrom(gO);});}));},WithErrorSummary:function(gT,gU){var gV;gV=t.Do();return t.MapResult(function(gW){return n.Join(gW);},gV.Delay(function(){return gV.Bind(t.LiftResult(gU),function(gY){var gZ,g0;if(gY.$==1){g0=gY.$0;gZ=t.Map(function(){return gY;},t.OfElement(function(){var g3,g4,g5;g4=d.ofArray([g.Tags().text(gT)]);g5=d.map(function(g6){var g7;g7=d.ofArray([g.Tags().text(g6)]);return g.Tags().NewTag("li",g7);},g0);g3=d.ofArray([g.Tags().NewTag("legend",g4),g.Tags().NewTag("ul",g5)]);return g.Tags().NewTag("fieldset",g3);}));}else{gZ=t.Return(gY);}return gV.ReturnFrom(gZ);});}));},WithFormContainer:function(g8){return Q.WithCustomFormContainer(S.get_Default(),g8);},WithJsonPost:function(g9,g_){var g$,ha,hb,hc,hd,he,hf,hg,hh,hi,hj,hk,hl,hm,hn,ho;g$=g9.PostUrl;if(g$.$==0){ha=$.New(p,{$:0});}else{hb=g$.$0;ha=d.ofArray([o.Attr().NewAttr("action",hb)]);}hc=g9.EncodingType;if(hc.$==0){hd=$.New(p,{$:0});}else{he=hc.$0;hd=d.ofArray([o.Attr().NewAttr("enctype",he)]);}hf=g.Tags();hh=g9.ParameterName;hg=d.ofArray([o.Attr().NewAttr("type","hidden"),o.Attr().NewAttr("name",hh)]);hi=hf.NewTag("input",hg);hj=g.Tags();hk=d.ofArray([o.Attr().NewAttr("type","submit"),o.Attr().NewAttr("value","Submit")]);hl=hj.NewTag("input",hk);hm=d.append($.New(p,{$:1,$0:o.Attr().NewAttr("method","POST"),$1:$.New(p,{$:1,$0:o.Attr().NewAttr("style","display:none"),$1:ha})}),hd);hn=q.add(g.Tags().NewTag("form",hm),d.ofArray([hi,hl]));q.OnAfterRender(function(hp){var hq;hq=g9.EncodingType;return hq.$==0?null:hq.$0==="multipart/form-data"?void r(hp.get_Body()).attr("encoding","multipart/form-data"):null;},hn);ho=d.ofArray([hn,t.Map(function(hr){var hs;hs=X.stringify(hr);r(hi.get_Body()).val(hs);return r(hl.get_Body()).click();},g_)]);return g.Tags().NewTag("div",ho);},WithLabel:function(ht,hu){return t.WithLabel({$:1,$0:ht},hu);},WithLabelAbove:function(hv){return t.MapBody(function(hw){var hx,hy,hz,hA,hB,hC,hD,hE,hF;hx=hw.Label;if(hx.$==0){hz=$.New(p,{$:0});hy=g.Tags().NewTag("span",hz);}else{hy=hx.$0.call(null,null);}hD=d.ofArray([hy]);hC=d.ofArray([g.Tags().NewTag("td",hD)]);hF=d.ofArray([hw.Element]);hE=d.ofArray([g.Tags().NewTag("td",hF)]);hB=d.ofArray([g.Tags().NewTag("tr",hC),g.Tags().NewTag("tr",hE)]);hA=d.ofArray([g.Tags().NewTag("tbody",hB)]);return $.New(b,{Element:g.Tags().NewTag("table",hA),Label:{$:0}});},hv);},WithLabelAndInfo:function(hG,hH,hI){return Q.WithLabel(function(){var hK,hL;hK=d.ofArray([g.Tags().text(hG)]);hL=d.ofArray([o.Attr().NewAttr("title",hH),o.Attr().NewAttr("class","infoIcon")]);return y.InTable(d.ofArray([d.ofArray([g.Tags().NewTag("label",hK),g.Tags().NewTag("span",hL)])]));},hI);},WithLabelConfiguration:function(hM,hN){var hO;hO=t.ApplyLayout(hN);return t.WithLayout(h.Layout().LabelLayout(hM),hO);},WithLabelLeft:function(hP){return t.MapBody(function(hQ){var hR,hS,hT,hU,hV,hW,hX,hY;hR=hQ.Label;if(hR.$==0){hT=$.New(p,{$:0});hS=g.Tags().NewTag("span",hT);}else{hS=hR.$0.call(null,null);}hX=d.ofArray([hQ.Element]);hY=d.ofArray([hS]);hW=d.ofArray([g.Tags().NewTag("td",hX),g.Tags().NewTag("td",hY)]);hV=d.ofArray([g.Tags().NewTag("tr",hW)]);hU=d.ofArray([g.Tags().NewTag("tbody",hV)]);return $.New(b,{Element:g.Tags().NewTag("table",hU),Label:{$:0}});},hP);},WithLegend:function(hZ,h0){return t.MapBody(function(h1){var h2,h3,h4;h3=d.ofArray([g.Tags().text(hZ)]);h4=h1.Label;h2=d.ofArray([g.Tags().NewTag("legend",h3),h4.$==0?h1.Element:y.InTable(d.ofArray([d.ofArray([h4.$0.call(null,null),h1.Element])]))]);return $.New(b,{Element:g.Tags().NewTag("fieldset",h2),Label:{$:0}});},h0);},WithResetAction:function(h5,h6){var h7;h7=t.New(function(){var h9;h9=h6.Build();return $.New(B,{Body:h9.Body,Dispose1:h9.Dispose1,Notify:function(h_){return h5(null)?h9.Notify.call(null,h_):null;},State:h9.State});});return h.OfIFormlet(h.PropagateRenderFrom(h6,t.WithLayout(h6.get_Layout(),h7)));},WithResetButton:function(h$){return Q.WithCustomResetButton(R.get_Default(),h$);},WithResetFormlet:function(ia,ib){var ic,id,ie,_if,ig;ic=t.InitWithFailure(t.ApplyLayout(t.WithLayoutOrDefault(ia)));id=t.LiftResult(ic);ie=t.WithNotificationChannel(id);_if=t.LiftResult(ib);ig=t.Do();return h.OfIFormlet(h.PropagateRenderFrom(ie,t.MapResult(function(ih){return n.Join(ih);},ig.Delay(function(){return ig.Bind(ie,function(ij){var ik,il;ik=ij[0];il=ij[1];return ig.Bind(_if,function(im){if(im.$==0){il(null);}return ig.Return(ik);});});}))));},WithRowConfiguration:function(_in,io){var ip;ip=t.ApplyLayout(io);return t.WithLayout(h.Layout().RowLayout(_in),ip);},WithSubmitAndReset:function(iq,ir){var is;is=t.Do();return h.OfIFormlet(h.PropagateRenderFrom(iq,is.Delay(function(){return is.Bind(t.WithNotificationChannel(t.LiftResult(t.InitWithFailure(iq))),function(iu){var iv,iw;iv=iu[0];iw=iu[1];return is.ReturnFrom((ir(function(ix){return iw(ix);}))(iv));});})));},WithSubmitAndResetButtons:function(iy){var iz,iA,iB;iz=R.get_Default();iA=$.New(R,{Label:{$:1,$0:"Submit"},Style:iz.Style,Class:iz.Class});iB=R.get_Default();return Q.WithCustomSubmitAndResetButtons(iA,$.New(R,{Label:{$:1,$0:"Reset"},Style:iB.Style,Class:iB.Class}),iy);},WithSubmitButton:function(iC){return Q.WithCustomSubmitButton(R.get_Default(),iC);},WithSubmitFormlet:function(iD,iE){var iF;iF=t.Do();return h.OfIFormlet(h.PropagateRenderFrom(iD,t.MapResult(function(iG){return n.Join(iG);},iF.Delay(function(){return iF.Bind(t.LiftResult(t.InitWithFailure(iD)),function(iI){return iF.Bind(iE(iI),function(){return iF.Return(iI);});});}))));},WithTextLabel:function(iK,iL){return Q.WithLabel(function(){var iN;iN=d.ofArray([g.Tags().text(iK)]);return g.Tags().NewTag("label",iN);},iL);},WithValidationFrame:function(iO){return Q.WithCustomValidationFrame(V.get_Default(),iO);},WithValidationIcon:function(iP){return Q.WithCustomValidationIcon(W.get_Default(),iP);},WrapFormlet:function(iQ,iR){return h.MkFormlet(function(){var iT,iU,iV;iT=t.WithLayoutOrDefault(iR);iU=t.BuildForm(iT);iV=iT.get_Layout().Apply.call(null,iU.Body).$0[0];return[(iQ(iU.State))(iV),function(){return iU.Notify.call(null,null);},iU.State];});}},Formlet:{ApplyLayout:function(iX){return h.OfIFormlet(h.PropagateRenderFrom(iX,h.BaseFormlet().ApplyLayout(iX)));},Bind:function(iY,iZ){var i0;i0=function(i1){return iZ(i1);};return h.OfIFormlet(h.PropagateRenderFrom(iY,h.BaseFormlet().Bind(iY,i0)));},BindWith:function(i2,i3,i4){var i5;i5=function(i6){return i4(i6);};return h.OfIFormlet(h.PropagateRenderFrom(i3,h.BaseFormlet().BindWith(i2,i3,i5)));},BuildForm:function(i7){return h.BaseFormlet().BuildForm(i7);},BuildFormlet:function(i8){return h.MkFormlet(i8);},Choose:function(i9){var i_,i$,jc,jd,ji;i_=[0];i$=x.map(function(ja){return t.LiftResult(t.InitWithFailure(t.Map(function(jb){u.incr(i_);return[jb,i_[0]];},ja)));},i9);jc=t.Sequence(i$);jd=t.Map(function(je){return x.tryPick(function(jf){return{$:1,$0:jf[0]};},d.rev(d.sortBy(function(jg){return jg[1];},d.choose(function(jh){return jh.$==0?{$:1,$0:jh.$0}:{$:0};},je))));},jc);ji=function(jj){return jj.$==1;};return t.Map(function(jk){return jk.$0;},h.Validator().Is(ji,"",jd));},Delay:function(jl){return h.OfIFormlet(h.BaseFormlet().Delay(function(){return jl(null);}));},Deletable:function(jn){return h.OfIFormlet(h.PropagateRenderFrom(jn,h.BaseFormlet().Deletable(jn)));},Do:$.Field(function(){return Y.New();}),Empty:function(){return h.OfIFormlet(h.BaseFormlet().Empty());},FailWith:function(jo){return h.OfIFormlet(h.BaseFormlet().FailWith(jo));},FlipBody:function(jp){return h.OfIFormlet(h.PropagateRenderFrom(jp,h.BaseFormlet().FlipBody(jp)));},Flowlet:function(jq){return h.OfIFormlet(h.PropagateRenderFrom(jq,h.BaseFormlet().WithLayout(h.Layout().get_Flowlet(),jq)));},Horizontal:function(jr){return h.OfIFormlet(h.PropagateRenderFrom(jr,h.BaseFormlet().WithLayout(h.Layout().get_Horizontal(),jr)));},InitWith:function(js,jt){return h.OfIFormlet(h.PropagateRenderFrom(jt,h.BaseFormlet().InitWith(js,jt)));},InitWithFailure:function(ju){return h.OfIFormlet(h.PropagateRenderFrom(ju,h.BaseFormlet().InitWithFailure(ju)));},Join:function(jv){var jw;jw=t.Map(function(jx){return jx;},jv);return h.OfIFormlet(h.PropagateRenderFrom(jv,h.BaseFormlet().Join(jw)));},LiftResult:function(jy){return h.OfIFormlet(h.PropagateRenderFrom(jy,h.BaseFormlet().LiftResult(jy)));},Map:function(jz,jA){return h.OfIFormlet(h.PropagateRenderFrom(jA,h.BaseFormlet().Map(jz,jA)));},MapBody:function(jB,jC){return h.OfIFormlet(h.PropagateRenderFrom(jC,h.BaseFormlet().MapBody(jB,jC)));},MapElement:function(jD,jE){return h.OfIFormlet(h.PropagateRenderFrom(jE,h.BaseFormlet().MapBody(function(jF){return $.New(b,{Element:jD(jF.Element),Label:jF.Label});},jE)));},MapResult:function(jG,jH){return h.OfIFormlet(h.PropagateRenderFrom(jH,h.BaseFormlet().MapResult(jG,jH)));},Never:function(){return h.OfIFormlet(h.BaseFormlet().Never());},New:function(jI){return h.OfIFormlet(h.BaseFormlet().New(jI));},OfElement:function(jJ){return h.MkFormlet(function(){return[jJ(null),function(){},h.RX().Return($.New(n,{$:0,$0:null}))];});},Render:function(jM){return h.PropagateRenderFrom(jM,jM.Run(function(){}));},Replace:function(jO,jP){var jQ;jQ=function(jR){return jP(jR);};return h.OfIFormlet(h.PropagateRenderFrom(jO,h.BaseFormlet().Replace(jO,jQ)));},ReplaceFirstWithFailure:function(jS){return h.OfIFormlet(h.PropagateRenderFrom(jS,h.BaseFormlet().ReplaceFirstWithFailure(jS)));},Return:function(jT){return h.OfIFormlet(h.BaseFormlet().Return(jT));},ReturnEmpty:function(jU){return h.OfIFormlet(h.BaseFormlet().ReturnEmpty(jU));},Run:function(jV,jW){return jW.Run(jV);},SelectMany:function(jX){var jY;jY=t.Map(function(jZ){return jZ;},jX);return h.OfIFormlet(h.PropagateRenderFrom(jX,h.BaseFormlet().SelectMany(jY)));},Sequence:function(j0){var j1;j1=x.map(function(j2){return j2;},j0);return h.OfIFormlet(h.BaseFormlet().Sequence(j1));},Switch:function(j3){var j4;j4=t.Map(function(j5){return j5;},j3);return h.OfIFormlet(h.PropagateRenderFrom(j3,h.BaseFormlet().Switch(j4)));},Vertical:function(j6){return h.OfIFormlet(h.PropagateRenderFrom(j6,h.BaseFormlet().WithLayout(h.Layout().get_Vertical(),j6)));},WithCancelation:function(j7,j8){return h.OfIFormlet(h.PropagateRenderFrom(j7,h.BaseFormlet().WithCancelation(j7,j8)));},WithLabel:function(j9,j_){return h.OfIFormlet(h.PropagateRenderFrom(j_,h.BaseFormlet().MapBody(function(j$){return $.New(b,{Element:j$.Element,Label:j9});},j_)));},WithLayout:function(ka,kb){return h.OfIFormlet(h.PropagateRenderFrom(kb,h.BaseFormlet().WithLayout(ka,kb)));},WithLayoutOrDefault:function(kc){return h.OfIFormlet(h.PropagateRenderFrom(kc,h.BaseFormlet().WithLayoutOrDefault(kc)));},WithNotification:function(kd,ke){return h.OfIFormlet(h.PropagateRenderFrom(ke,h.BaseFormlet().WithNotification(kd,ke)));},WithNotificationChannel:function(kf){return h.OfIFormlet(h.PropagateRenderFrom(kf,h.BaseFormlet().WithNotificationChannel(kf)));}},FormletBuilder:$.Class({Bind:function(kg,kh){var ki;ki=function(kj){return kh(kj);};return h.OfIFormlet(h.PropagateRenderFrom(kg,h.BaseFormlet().Bind(kg,ki)));},Delay:function(kk){return h.OfIFormlet(h.BaseFormlet().Delay(function(kl){return kk(kl);}));},Return:function(km){return h.OfIFormlet(h.BaseFormlet().Return(km));},ReturnFrom:function(kn){return h.OfIFormlet(kn);}},{New:function(){return $.New(this,{});}}),Layout:{FormRowConfiguration:$.Class({},{get_Default:function(){return $.New(_0,{Padding:{$:0},Color:{$:0},Class:{$:0},Style:{$:0},LabelConfiguration:{$:0}});}}),LabelConfiguration:$.Class({},{get_Default:function(){return $.New(_1,{Align:{$:0},VerticalAlign:{$:1},Placement:{$:0}});}}),Padding:$.Class({},{get_Default:function(){return $.New(_2,{Left:{$:0},Right:{$:0},Top:{$:0},Bottom:{$:0}});}})},LayoutProvider:$.Class({ColumnLayout:function(ko){var kp,kE=this;kp=this.LayoutUtils;return kp.New(function(){var kr,ks,kt,ku,kv,kw,kx,kL;kr=$.New(p,{$:0});ks=g.Tags().NewTag("tr",kr);ku=d.ofArray([ks]);kt=d.ofArray([g.Tags().NewTag("tbody",ku)]);kv=g.Tags().NewTag("table",kt);kw=P.NewElementStore();kx=function(ky){return function(kz){var kA,kB,kC,kD,kF,kG,kH,kI;kA=kz.Element.get_Id();kD=d.ofArray([kE.MakeRow(ko,ky,kz)]);kC=d.ofArray([g.Tags().NewTag("tbody",kD)]);kB=d.ofArray([g.Tags().NewTag("table",kC)]);kF=g.Tags().NewTag("td",kB);kG=r(ks.get_Body());kH=[0];kI=[false];kG.children().each(function(){var kJ;kJ=r(this);if(ky===kH[0]){r(kF.get_Body()).insertBefore(kJ);kF.Render();kI[0]=true;}return u.incr(kH);});if(!kI[0]){ks.AppendI(kF);}return kw.RegisterElement(kA,function(){return kF["HtmlProvider@33"].Remove(kF.get_Body());});};};kL=function(kM){var kN;kN=_3.Get(kM);try{while(kN.MoveNext()){kw.Remove(kN.get_Current().Element.get_Id());}return;}finally{if(kN.Dispose!=undefined){kN.Dispose();}}};return{Body:$.New(b,{Element:kv,Label:{$:0}}),SyncRoot:null,Insert:kx,Remove:kL};});},HorizontalAlignElem:function(kO,kP){var kQ,kR;kR="float:"+(kO.$==0?"left":"right")+";";kQ=d.ofArray([o.Attr().NewAttr("style",kR)]);return q.add(g.Tags().NewTag("div",kQ),d.ofArray([kP]));},LabelLayout:function(kS){var kT;kT=_0.get_Default();return this.RowLayout($.New(_0,{Padding:kT.Padding,Color:kT.Color,Class:kT.Class,Style:kT.Style,LabelConfiguration:{$:1,$0:kS}}));},MakeLayout:function(kU){var kV;kV=this.LayoutUtils;return kV.New(function(){var kX,kY,kZ,k7;kX=kU(null);kY=P.NewElementStore();kZ=function(k0){return function(k1){var k2,k3;k2=k1.Element.get_Id();k3=(kX.Insert.call(null,k0))(k1);return kY.RegisterElement(k2,function(){var k5,k6;k5=_3.Get(k3);try{while(k5.MoveNext()){k6=k5.get_Current();k6["HtmlProvider@33"].Remove(k6.get_Body());}return;}finally{if(k5.Dispose!=undefined){k5.Dispose();}}});};};k7=function(k8){var k9;k9=_3.Get(k8);try{while(k9.MoveNext()){kY.Remove(k9.get_Current().Element.get_Id());}return;}finally{if(k9.Dispose!=undefined){k9.Dispose();}}};return{Body:$.New(b,{Element:kX.Panel,Label:{$:0}}),SyncRoot:null,Insert:kZ,Remove:k7};});},MakeRow:function(k_,k$,la){var lb,lc,ld,lf,lg,li,lj,ll,lm,lo,lp,lr,lJ,lK,lL,lM,lN,lO,lP,lR,lS,lT,lU,lV,lW,lX,lY,lZ,l2,l3,l4,l6,l7,l8,l_,l$,mc;lb=k_.Padding;lc=_2.get_Default();ld=y.Maybe(lc,function(le){return le;},lb);lf=ld.Left;lg=y.Maybe(0,function(lh){return lh;},lf);li=ld.Top;lj=y.Maybe(0,function(lk){return lk;},li);ll=ld.Right;lm=y.Maybe(0,function(ln){return ln;},ll);lo=ld.Bottom;lp=y.Maybe(0,function(lq){return lq;},lo);lr=function(ls){return function(lt){return function(lu){return function(lv){return function(lw){return function(lx){return function(ly){var lz,lB,lC,lD,lG,lI;lz=function(lA){return lA[0]+$$.String(lA[1])+"px;";};lB=d.ofArray([["padding-left: ",ls],["padding-top: ",lt],["padding-right: ",lu],["padding-bottom: ",lv]]);lC=d.map(lz,lB);lD=x.reduce(function(lE){return function(lF){return lE+lF;};},lC);lG=lD+";"+y.Maybe("",function(lH){return"vertical-align: "+(lH.$==1?"middle":lH.$==2?"bottom":"top")+";";},lx);lI=d.append($.New(p,{$:1,$0:o.Attr().NewAttr("style",lG),$1:lw?d.ofArray([o.Attr().NewAttr("colspan","2")]):$.New(p,{$:0})}),d.ofArray([ly]));return g.Tags().NewTag("td",lI);};};};};};};};lJ=la.Element;lK=la.Label;if(lK.$==1){lM=lK.$0;lN=k_.LabelConfiguration;lO=_1.get_Default();lP=y.Maybe(lO,function(lQ){return lQ;},lN);lR=lM(null);lS=lP.Align;lT=this.HorizontalAlignElem(lS,lR);lU=lP.Placement;if(lU.$==3){lV=y.InTable(d.ofArray([d.ofArray([lJ]),d.ofArray([lT])]));lL=d.ofArray([((((((lr(lg))(lj))(lm))(lp))(true))({$:0}))(lV)]);}else{if(lU.$==0){lL=d.ofArray([((((((lr(lg))(lj))(0))(lp))(false))({$:1,$0:lP.VerticalAlign}))(lT),((((((lr(0))(lj))(lm))(lp))(false))({$:0}))(lJ)]);}else{if(lU.$==1){lL=d.ofArray([((((((lr(lg))(lj))(0))(lp))(false))({$:1,$0:lP.VerticalAlign}))(lJ),((((((lr(0))(lj))(lm))(lp))(false))({$:0}))(lT)]);}else{lW=y.InTable(d.ofArray([d.ofArray([lT]),d.ofArray([lJ])]));lL=d.ofArray([((((((lr(lg))(lj))(lm))(lp))(true))({$:0}))(lW)]);}}}}else{lL=d.ofArray([((((((lr(lg))(lj))(lm))(lp))(true))({$:0}))(lJ)]);}lX=k_.Class;lY=$.New(p,{$:0});lZ=y.Maybe(lY,function(l0){var l1;l1=l0(k$);return d.ofArray([o.Attr().NewAttr("class",l1)]);},lX);l2=k_.Color;l3=$.New(p,{$:0});l4=y.Maybe(l3,function(l5){return d.ofArray(["background-color: "+l5(k$)]);},l2);l6=k_.Style;l7=$.New(p,{$:0});l8=d.append(l4,y.Maybe(l7,function(l9){return d.ofArray([l9(k$)]);},l6));if(l8.$==0){l_=$.New(p,{$:0});}else{l$=x.reduce(function(ma){return function(mb){return ma+";"+mb;};},l8);l_=d.ofArray([o.Attr().NewAttr("style",l$)]);}mc=d.append(lZ,d.append(l_,d.append(l_,lL)));return g.Tags().NewTag("tr",mc);},RowLayout:function(md){var me,mq=this;me=this.LayoutUtils;return me.New(function(){var mg,mh,mi,mj,mk,ml,mw;mg=$.New(p,{$:0});mh=g.Tags().NewTag("tbody",mg);mi=d.ofArray([mh]);mj=g.Tags().NewTag("table",mi);mk=P.NewElementStore();ml=function(mm){return function(mn){var mo,mp,mr,ms,mt;mo=mn.Element.get_Id();mp=mq.MakeRow(md,mm,mn);mr=r(mh.get_Body());ms=[0];mt=[false];mr.children().each(function(){var mu;mu=r(this);if(mm===ms[0]){r(mp.get_Body()).insertBefore(mu);mp.Render();mt[0]=true;}return u.incr(ms);});if(!mt[0]){mh.AppendI(mp);}return mk.RegisterElement(mo,function(){return mp["HtmlProvider@33"].Remove(mp.get_Body());});};};mw=function(mx){var my;my=_3.Get(mx);try{while(my.MoveNext()){mk.Remove(my.get_Current().Element.get_Id());}return;}finally{if(my.Dispose!=undefined){my.Dispose();}}};return{Body:$.New(b,{Element:mj,Label:{$:0}}),SyncRoot:null,Insert:ml,Remove:mw};});},VerticalAlignedTD:function(mz,mA){var mB,mC,mD;mB=mz.$==1?"middle":mz.$==2?"bottom":"top";mC=d.ofArray([mA]);mD=g.Tags().NewTag("td",mC);mD["HtmlProvider@33"].SetCss(mD.get_Body(),"vertical-align",mB);return mD;},get_Flowlet:function(){return this.MakeLayout(function(){var mF,mG;mF=$.New(p,{$:0});mG=g.Tags().NewTag("div",mF);return{Insert:function(){return function(mI){var mJ,mK,mL,mM;if(mI.Label.$==1){mK=mI.Label.$0.call(null,null);}else{mL=$.New(p,{$:0});mK=g.Tags().NewTag("span",mL);}mM=d.ofArray([mI.Element]);mJ=y.InTable(d.ofArray([d.ofArray([mK,g.Tags().NewTag("div",mM)])]));mG["HtmlProvider@33"].Clear(mG.get_Body());mG.AppendI(mJ);return d.ofArray([mJ]);};},Panel:mG};});},get_Horizontal:function(){return this.ColumnLayout(_0.get_Default());},get_Vertical:function(){return this.RowLayout(_0.get_Default());}},{New:function(mN){var mO;mO=$.New(this,{});mO.LayoutUtils=mN;return mO;}}),Utils:{InTable:function(mP){var mQ,mV;mQ=d.map(function(mR){var mS;mS=d.map(function(mT){var mU;mU=d.ofArray([mT]);return g.Tags().NewTag("td",mU);},mR);return g.Tags().NewTag("tr",mS);},mP);mV=d.ofArray([g.Tags().NewTag("tbody",mQ)]);return g.Tags().NewTag("table",mV);},MapOption:function(mW,mX){return mX.$==1?{$:1,$0:mW(mX.$0)}:{$:0};},Maybe:function(mY,mZ,m0){return m0.$==0?mY:mZ(m0.$0);}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Formlets);b=$.Safe(a.Body);c=$.Safe(a.Controls);d=$.Safe($$.WebSharper.List);e=$.Safe($$.WebSharper.Html);f=$.Safe(e.Client);g=$.Safe(f.Tags);h=$.Safe(a.Data);i=$.Safe($$.IntelliFactory);j=$.Safe(i.Reactive);k=$.Safe(j.HotStream);l=$.Safe(i.Formlets);m=$.Safe(l.Base);n=$.Safe(m.Result);o=$.Safe(f.Attr);p=$.Safe(d.T);q=$.Safe(f.Operators);r=$.Safe($$.jQuery);s=$.Safe(f.EventsPervasives);t=$.Safe(a.Formlet);u=$.Safe($$.WebSharper.Ref);v=$.Safe(a.CssConstants);w=$.Safe($$.Math);x=$.Safe($$.WebSharper.Seq);y=$.Safe(a.Utils);z=$.Safe(m.Tree);A=$.Safe(z.Edit);B=$.Safe(m.Form);C=$.Safe($$.WebSharper.Arrays);D=$.Safe(m.FormletProvider);E=$.Safe(h.Formlet);F=$.Safe(f.Pagelet);G=$.Safe($$.WebSharper.Util);H=$.Safe(a.LayoutProvider);I=$.Safe(m.LayoutUtils);J=$.Safe(j.Reactive);K=$.Safe(m.Validator);L=$.Safe(h.ValidatorProvidor);M=$.Safe($$.RegExp);N=$.Safe($$.WebSharper.Collections);O=$.Safe(N.Dictionary);P=$.Safe(a.ElementStore);Q=$.Safe(a.Enhance);R=$.Safe(Q.FormButtonConfiguration);S=$.Safe(Q.FormContainerConfiguration);T=$.Safe(Q.Padding);U=$.Safe(Q.ManyConfiguration);V=$.Safe(Q.ValidationFrameConfiguration);W=$.Safe(Q.ValidationIconConfiguration);X=$.Safe($$.JSON);Y=$.Safe(a.FormletBuilder);Z=$.Safe(a.Layout);_0=$.Safe(Z.FormRowConfiguration);_1=$.Safe(Z.LabelConfiguration);_2=$.Safe(Z.Padding);return _3=$.Safe($$.WebSharper.Enumerator);});$.OnLoad(function(){$.Inherit(E,F);t.Do();h.Validator();h.RX();h.Layout();h.DefaultLayout();v.InputTextClass();return;});}());
